{"ast":null,"code":"import _classCallCheck from\"/Users/grantlyons/Desktop/practice/splash-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/grantlyons/Desktop/practice/splash-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/grantlyons/Desktop/practice/splash-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/grantlyons/Desktop/practice/splash-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/grantlyons/Desktop/practice/splash-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _slicedToArray from\"/Users/grantlyons/Desktop/practice/splash-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* global chrome */ // import bodyParser from \"body-parser\";\n// import { data } from \"browserslist\";\nimport React,{Component,useEffect,useState,Fragment}from\"react\";import{createApi}from\"unsplash-js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var api=createApi({accessKey:process.env.REACT_APP_UNSPLASH_ACCESS_KEY});var setBackground=function setBackground(photo){chrome.storage.sync.set({manuscript:photo});var message=JSON.stringify([\"search-term\",photo]);chrome.runtime.sendMessage(message,function(d){console.log(d.res);});};var PhotoComp=function PhotoComp(_ref){var photo=_ref.photo;var user=photo.user,urls=photo.urls;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"img\",alt:\"\",src:urls.regular}),/*#__PURE__*/_jsx(\"a\",{rel:\"noreferrer\",className:\"credit\",target:\"_blank\",href:\"https://unsplash.com/@\".concat(user.username),children:user.name})]});};var Body=function Body(_ref2){var manuscript=_ref2.manuscript;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setPhotosResponse=_useState2[1];useEffect(function(){api.search.getPhotos({query:manuscript,orientation:\"landscape\"}).then(function(result){setPhotosResponse(result);}).catch(function(){console.log(\"something went wrong!\");});},[manuscript]);if(data===null){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}else if(data.errors){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:data.errors[0]}),/*#__PURE__*/_jsx(\"div\",{children:\"PS: Make sure to set your access token!\"})]});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"feed\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"columnUl\",children:data.response.results.map(function(photo){return/*#__PURE__*/_jsx(\"li\",{className:\"li\",onClick:function onClick(){setBackground(photo);},children:/*#__PURE__*/_jsx(PhotoComp,{photo:photo})},photo.id);})})});}};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={value:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"handleChange\",value:function handleChange(event){this.setState({value:event.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){// let message = getImageObject(this.state.value);\n// chrome.storage.sync.set({ image: message });\n// message = JSON.stringify([\"search-term\", message]);\n// chrome.runtime.sendMessage(message, (d) => {\n//   console.log(d.res);\n// });\nevent.preventDefault();// manuscript = this.state.value;\n}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Splash:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.value,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]}),/*#__PURE__*/_jsx(Body,{manuscript:this.state.value})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","useEffect","useState","Fragment","createApi","api","accessKey","process","env","REACT_APP_UNSPLASH_ACCESS_KEY","setBackground","photo","chrome","storage","sync","set","manuscript","message","JSON","stringify","runtime","sendMessage","d","console","log","res","PhotoComp","user","urls","regular","username","name","Body","data","setPhotosResponse","search","getPhotos","query","orientation","then","result","catch","errors","response","results","map","id","App","props","state","value","handleChange","bind","handleSubmit","event","setState","target","preventDefault"],"sources":["/Users/grantlyons/Desktop/practice/splash-app/src/App.js"],"sourcesContent":["/* global chrome */\n// import bodyParser from \"body-parser\";\n// import { data } from \"browserslist\";\nimport React, { Component, useEffect, useState, Fragment } from \"react\";\nimport { createApi } from \"unsplash-js\";\n\nconst api = createApi({\n\n  accessKey: process.env.REACT_APP_UNSPLASH_ACCESS_KEY,\n});\n\nconst setBackground = (photo) => {\n  chrome.storage.sync.set({ manuscript: photo });\n  let message = JSON.stringify([\"search-term\", photo]);\n  chrome.runtime.sendMessage(message, (d) => {\n    console.log(d.res);\n  });\n};\n\nconst PhotoComp = ({ photo }) => {\n  const { user, urls } = photo;\n\n  return (\n    <Fragment>\n      <img className=\"img\" alt=\"\" src={urls.regular} />\n      <a\n        rel=\"noreferrer\"\n        className=\"credit\"\n        target=\"_blank\"\n        href={`https://unsplash.com/@${user.username}`}\n      >\n        {user.name}\n      </a>\n    </Fragment>\n  );\n};\n\nconst Body = ({ manuscript }) => {\n  const [data, setPhotosResponse] = useState(null);\n\n  useEffect(() => {\n    api.search\n      .getPhotos({ query: manuscript, orientation: \"landscape\" })\n      .then((result) => {\n        setPhotosResponse(result);\n      })\n      .catch(() => {\n        console.log(\"something went wrong!\");\n      });\n  }, [manuscript]);\n\n  if (data === null) {\n    return <div>Loading...</div>;\n  } else if (data.errors) {\n    return (\n      <div>\n        <div>{data.errors[0]}</div>\n        <div>PS: Make sure to set your access token!</div>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"feed\">\n        <ul className=\"columnUl\">\n          {data.response.results.map((photo) => (\n            <li\n              key={photo.id}\n              className=\"li\"\n              onClick={() => {\n                setBackground(photo);\n              }}\n            >\n              <PhotoComp photo={photo} />\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: \"\" };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({ value: event.target.value });\n  }\n\n  handleSubmit(event) {\n    // let message = getImageObject(this.state.value);\n    // chrome.storage.sync.set({ image: message });\n    // message = JSON.stringify([\"search-term\", message]);\n    // chrome.runtime.sendMessage(message, (d) => {\n    //   console.log(d.res);\n    // });\n    event.preventDefault();\n    // manuscript = this.state.value;\n  }\n\n  render() {\n    return (\n      <>\n        <form onSubmit={this.handleSubmit}>\n          <label>\n            Splash:\n            <input\n              type=\"text\"\n              value={this.state.value}\n              onChange={this.handleChange}\n            />\n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        <Body manuscript={this.state.value} />\n      </>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}